[
  {
    "id": "debug_001",
    "lang_pair": ["en", "sq"],
    "topic": "FFT",
    "subtopic": "debug_student",
    "type": "debug",
    "system": "Një student ka bërë një gabim në llogaritjen e rezolucionit të frekuencës. Korrigjoje atë.",
    "prompt_en": "A student says: 'For an N=256 point FFT with fs=8000 Hz, the frequency resolution is Δf = N / fs = 256 / 8000 = 0.032 Hz.' Is this correct? If not, what is the error?",
    "response_en": "No, the student is wrong. The correct formula is Δf = fs / N, not N / fs. So Δf = 8000 / 256 = 31.25 Hz. The student inverted the formula, leading to an unrealistically small resolution.",
    "prompt_sq": "Një student thotë: 'Për një FFT me N=256 pikë dhe fs=8000 Hz, rezolucioni i frekuencës është Δf = N / fs = 256 / 8000 = 0.032 Hz.' A është kjo e saktë? Nëse jo, cili është gabimi?",
    "response_sq": "Jo, studenti është i gabuar. Formula e saktë është Δf = fs / N, jo N / fs. Kështu që Δf = 8000 / 256 = 31.25 Hz. Studenti e ka kthyer formulën, duke çuar në një rezolucion të paparalajmëruarisht të vogël.",
    "meta": {
      "fs": 8000,
      "N": 256,
      "f0": null,
      "df": 31.25,
      "k": null,
      "frequencies": null,
      "difficulty": "easy",
      "has_aliasing": false
    }
  },
  {
    "id": "debug_002",
    "lang_pair": ["en", "sq"],
    "topic": "FFT",
    "subtopic": "debug_student",
    "type": "debug",
    "system": "Studenti ka gabuar në llogaritjen e indeksit të bin-it. Korrigjoje.",
    "prompt_en": "A student computes the bin index for a 150 Hz tone with fs=1000 Hz and N=512 as k = 150 * 512 / 1000 = 76.8, then says k=77. But they claim the tone will appear only in bin 77. What's wrong?",
    "response_en": "The student correctly computed k ≈ 76.8 and rounded to 77, but they ignored spectral leakage. Since 150 Hz is not an exact multiple of Δf = 1000/512 ≈ 1.953 Hz, the tone doesn't align with a bin, causing leakage across multiple bins. The peak will be near bin 77, but energy will spread.",
    "prompt_sq": "Një student llogarit indeksin e bin-it për një ton 150 Hz me fs=1000 Hz dhe N=512 si k = 150 * 512 / 1000 = 76.8, pastaj thotë k=77. Por pretendon se toni do të shfaqet vetëm në bin 77. Çfarë është gabim këtu?",
    "response_sq": "Studenti ka llogaritur saktë k ≈ 76.8 dhe ka rrumbullakësuar në 77, por ka injoruar rrjedhjen spektrale. Meqenëse 150 Hz nuk është shumëfish i saktë i Δf = 1000/512 ≈ 1.953 Hz, toni nuk përputhet me një bin, duke shkaktuar rrjedhje nëpër shumë bina. Kryqja do të jetë afër bin 77, por energjia do të shpërndahet.",
    "meta": {
      "fs": 1000,
      "N": 512,
      "f0": 150,
      "df": 1.953125,
      "k": 76.8,
      "frequencies": null,
      "difficulty": "medium",
      "has_aliasing": false
    }
  },
  {
    "id": "debug_003",
    "lang_pair": ["en", "sq"],
    "topic": "FFT",
    "subtopic": "debug_student",
    "type": "debug",
    "system": "Studenti mendon se indeksi i bin-it është direkt frekuenca. Korrigjoje.",
    "prompt_en": "A student says: 'In a 1024-point FFT, bin index k=100 corresponds to 100 Hz.' What is the error here?",
    "response_en": "The student assumes k equals frequency in Hz, which is wrong. The frequency of bin k is f = k * Δf, where Δf = fs / N. Without knowing fs, we can't say k=100 is 100 Hz. For example, if fs=8000 Hz, then Δf=7.8125 Hz, so k=100 corresponds to 781.25 Hz.",
    "prompt_sq": "Një student thotë: 'Në një FFT 1024-pikëshe, indeksi i bin-it k=100 korrespondon me 100 Hz.' Cili është gabimi këtu?",
    "response_sq": "Studenti supozon se k është i barabartë me frekuencën në Hz, gjë që është e gabuar. Frekuenca e bin-it k është f = k * Δf, ku Δf = fs / N. Pa ditur fs, nuk mund të themi se k=100 është 100 Hz. Për shembull, nëse fs=8000 Hz, atëherë Δf=7.8125 Hz, kështu që k=100 korrespondon me 781.25 Hz.",
    "meta": {
      "fs": 8000,
      "N": 1024,
      "f0": 100,
      "df": 7.8125,
      "k": 100,
      "frequencies": null,
      "difficulty": "easy",
      "has_aliasing": false
    }
  },
  {
    "id": "debug_004",
    "lang_pair": ["en", "sq"],
    "topic": "FFT",
    "subtopic": "debug_student",
    "type": "debug",
    "system": "Studenti ka gabuar në lidhjen midis frekuencës së mostrimit dhe rezolucionit.",
    "prompt_en": "A student claims: 'Doubling the sampling frequency fs doubles the frequency resolution Δf.' Is this true? Explain.",
    "response_en": "No, this is false. Δf = fs / N. If you double fs while keeping N constant, Δf doubles, meaning resolution gets worse (larger Δf). To improve resolution, you must increase N, not fs.",
    "prompt_sq": "Një student pretendon: 'Dyfishimi i frekuencës së mostrimit fs dyfishon rezolucionin e frekuencës Δf.' A është e vërtetë kjo? Shpjego.",
    "response_sq": "Jo, kjo është e rreme. Δf = fs / N. Nëse dyfishon fs duke mbajtur N të pandryshuar, Δf dyfishohet, që do të thotë se rezolucioni bëhet më i keq (Δf më i madh). Për ta përmirësuar rezolucionin, duhet të rritet N, jo fs.",
    "meta": {
      "fs": 16000,
      "N": 1024,
      "f0": null,
      "df": 15.625,
      "k": null,
      "frequencies": null,
      "difficulty": "medium",
      "has_aliasing": null
    }
  },
  {
    "id": "debug_005",
    "lang_pair": ["en", "sq"],
    "topic": "FFT",
    "subtopic": "debug_student",
    "type": "debug",
    "system": "Studenti ka gabuar në interpretimin e frekuencës Nyquist.",
    "prompt_en": "A student says: 'For fs=44100 Hz and N=2048, the highest frequency we can see in the FFT is 2048 Hz because that's the last bin.' What's wrong?",
    "response_en": "The student confuses bin index with frequency. The last meaningful bin is at k = N/2 = 1024, which corresponds to f = 1024 * (44100/2048) ≈ 1024 * 21.53 = 22050 Hz, which is fs/2 (Nyquist). The maximum observable frequency is 22050 Hz, not 2048 Hz.",
    "prompt_sq": "Një student thotë: 'Për fs=44100 Hz dhe N=2048, frekuenca më e lartë që mund të shohim në FFT është 2048 Hz sepse është bin i fundit.' Çfarë është gabim këtu?",
    "response_sq": "Studenti i përzie indeksin e bin-it me frekuencën. Bini i fundit i rëndësishëm është në k = N/2 = 1024, i cili korrespondon me f = 1024 * (44100/2048) ≈ 1024 * 21.53 = 22050 Hz, që është fs/2 (Nyquist). Frekuenca maksimale e vështhueshme është 22050 Hz, jo 2048 Hz.",
    "meta": {
      "fs": 44100,
      "N": 2048,
      "f0": null,
      "df": 21.533203125,
      "k": 1024,
      "frequencies": null,
      "difficulty": "medium",
      "has_aliasing": false
    }
  },
  {
    "id": "debug_006",
    "lang_pair": ["en", "sq"],
    "topic": "FFT",
    "subtopic": "debug_student",
    "type": "debug",
    "system": "Studenti mendon se një ton sinusoidal do të jetë vetëm në një bin edhe kur nuk përputhet me rezolucionin.",
    "prompt_en": "A student says: 'If I take a 1000 Hz tone with fs=8000 Hz and N=256, it will appear only in bin k=32 because 1000 / (8000/256) = 32 exactly.' Is this correct?",
    "response_en": "Yes, this is correct. Δf = 8000/256 = 31.25 Hz. Since 1000 / 31.25 = 32 exactly, the tone aligns perfectly with bin k=32, so no spectral leakage occurs. The magnitude will be concentrated in bin 32.",
    "prompt_sq": "Një student thotë: 'Nëse marr një ton 1000 Hz me fs=8000 Hz dhe N=256, ai do të shfaqet vetëm në bin k=32 sepse 1000 / (8000/256) = 32 saktësisht.' A është kjo e saktë?",
    "response_sq": "Po, kjo është e saktë. Δf = 8000/256 = 31.25 Hz. Meqenëse 1000 / 31.25 = 32 saktësisht, toni përputhet perfekt me bin k=32, kështu që nuk do të ketë rrjedhje spektrale. Amplituda do të jetë e përqendruar në bin 32.",
    "meta": {
      "fs": 8000,
      "N": 256,
      "f0": 1000,
      "df": 31.25,
      "k": 32,
      "frequencies": null,
      "difficulty": "easy",
      "has_aliasing": false
    }
  },
  {
    "id": "debug_007",
    "lang_pair": ["en", "sq"],
    "topic": "FFT",
    "subtopic": "debug_student",
    "type": "debug",
    "system": "Studenti ka gabuar në llogaritjen e frekuencës së bin-it.",
    "prompt_en": "A student says: 'For fs=16000 Hz and N=1024, bin k=50 corresponds to 50 * 16000 = 800,000 Hz.' What is the error?",
    "response_en": "The student multiplied k by fs instead of by Δf. Correct frequency is f = k * (fs / N) = 50 * (16000 / 1024) = 50 * 15.625 = 781.25 Hz. Multiplying by fs gives an absurdly high frequency.",
    "prompt_sq": "Një student thotë: 'Për fs=16000 Hz dhe N=1024, bin k=50 korrespondon me 50 * 16000 = 800,000 Hz.' Cili është gabimi?",
    "response_sq": "Studenti e ka shumëzuar k me fs, në vend se me Δf. Frekuenca e saktë është f = k * (fs / N) = 50 * (16000 / 1024) = 50 * 15.625 = 781.25 Hz. Shumëzimi me fs jep një frekuencë absurdisht të lartë.",
    "meta": {
      "fs": 16000,
      "N": 1024,
      "f0": null,
      "df": 15.625,
      "k": 50,
      "frequencies": null,
      "difficulty": "easy",
      "has_aliasing": false
    }
  },
  {
    "id": "debug_008",
    "lang_pair": ["en", "sq"],
    "topic": "FFT",
    "subtopic": "debug_student",
    "type": "debug",
    "system": "Studenti ka gabuar në lidhjen midis frekuencës së mostrimit dhe frekuencës së sinjalit.",
    "prompt_en": "A student says: 'A 10 kHz tone sampled at fs=8 kHz will appear in the FFT at 10 kHz.' Is this correct?",
    "response_en": "No. The tone is above Nyquist (fs/2 = 4 kHz), so aliasing occurs. The aliased frequency is f_alias = |10000 - 8000 * round(10000/8000)| = |10000 - 8000| = 2000 Hz. So it appears at 2 kHz, not 10 kHz.",
    "prompt_sq": "Një student thotë: 'Një ton 10 kHz i mostruar me fs=8 kHz do të shfaqet në FFT në 10 kHz.' A është kjo e saktë?",
    "response_sq": "Jo. Toni është mbi Nyquist (fs/2 = 4 kHz), kështu që ndodh aliasimi. Frekuenca e aliasuar është f_alias = |10000 - 8000 * round(10000/8000)| = |1